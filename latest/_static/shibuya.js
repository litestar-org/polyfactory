(()=>{function _(t){let e=t.getAttribute("aria-controls"),o=document.getElementById(e),c="data-expanded-"+e;t.addEventListener("click",function(){document.body.hasAttribute(c)?(document.body.removeAttribute(c),o.classList.remove("_expanded"),y(e,"false")):(document.body.setAttribute(c,"true"),o.classList.add("_expanded"),y(e,"true"))})}function y(t,e){let o=document.querySelectorAll('[aria-controls="'+t+'"]');for(el of o)el.setAttribute("aria-expanded",e)}var S=document.querySelectorAll(".js-menu");for(let t=0;t<S.length;t++)_(S[t]);var a=document.querySelector(".announcement"),q=document.querySelector(".announcement-close");if(a){let e=function(){t.textContent=`:root{--sy-s-banner-height:${a.clientHeight}px}`};C=e;let t=document.createElement("style");document.head.appendChild(t),q.addEventListener("click",()=>{a.parentNode.removeChild(a),document.head.removeChild(t)}),e(),window.addEventListener("resize",e)}var C;var l=["auto","light","dark"],d=document.querySelector(".js-theme");function k(){let t=h();t+=1,l[t]||(t=0);let e=l[t];setColorMode(e),sessionStorage._theme=e,L(e)}function h(){return l.indexOf(document.documentElement.getAttribute("data-color-mode")||"auto")}function L(t){let e=d.getAttribute("data-aria-"+t);d.setAttribute("aria-label",e)}d&&(d.addEventListener("click",k),L(l[h()]||"auto"));function I(){let t=document.querySelector(".globaltoc");if(!t)return;let e=parseInt(t.getAttribute("data-expand-depth"),10),o=n=>{if(!e)return!1;let s=0;for(;n.parentNode&&n.parentNode!==t;)n=n.parentNode,n.nodeName==="UL"&&(s+=1);return e>=s};t.querySelectorAll("li > ul").forEach(n=>{let s=n.parentNode;s.classList.contains("current")||o(s)?s.classList.add("_expand"):s.classList.add("_collapse");let i=N(n);s.appendChild(i)})}function N(t){let e=document.createElement("button");e.innerHTML='<i class="i-lucide chevron-right"></i>';let o=t.parentNode,c=t.previousSibling,n=c.textContent,s=()=>{o.classList.contains("_expand")?e.setAttribute("aria-label","Collapse "+n):e.setAttribute("aria-label","Expand "+n)};s();let i=E=>{E.preventDefault(),o.classList.contains("_expand")?(o.classList.remove("_expand"),o.classList.add("_collapse")):(o.classList.remove("_collapse"),o.classList.add("_expand")),s()};return c.getAttribute("href")==="#"&&c.addEventListener("click",i),e.addEventListener("click",i),e}var f=document.querySelector(".globaltoc a.current");f&&f.scrollIntoViewIfNeeded&&f.scrollIntoViewIfNeeded();I();var v=0,m=200,u=document.querySelectorAll(".yue > section section[id]"),r=document.querySelector(".back-to-top");function w(){let t=document.querySelector(".yue > section");t&&(m=t.computedStyleMap().get("scroll-margin-top").value)}function O(t){let e=t.getBoundingClientRect();return e.top<=m&&e.bottom>=m}function A(t){document.querySelectorAll(".localtoc li.active").forEach(e=>{e.classList.remove("active")}),document.querySelector(`.localtoc a[href="#${t}"]`).parentNode.classList.add("active")}function x(){let t;for(let e=0;e<u.length;e++)if(t=u[e],O(t)){A(t.id);break}}function j(){if(window.innerHeight+Math.round(window.scrollY)>=document.body.offsetHeight){let t=u[u.length-1];t&&A(t.id)}else x();r&&(window.scrollY&&window.scrollY<v?r.setAttribute("data-visible","true"):r.hasAttribute("data-visible")&&r.removeAttribute("data-visible"),v=window.scrollY)}r&&r.addEventListener("click",()=>{window.scrollTo(0,0)});window.addEventListener("scroll",j);window.addEventListener("DOMContentLoaded",()=>{w(),x()});window.addEventListener("resize",w);var p=document.querySelector(".js-repo-stats");async function M(t,e){let o=`https://api.github.com/repos/${t}/${e}`,n=await(await fetch(o)).json(),s={stars:n.watchers,forks:n.forks};b(s),sessionStorage.setItem("_sy/repo/stats",JSON.stringify(s))}async function T(t,e){let o="https://gitlab.com/api/v4/projects/"+encodeURIComponent(t+"/"+e),n=await(await fetch(o)).json(),s={stars:n.star_count,forks:n.forks_count};b(s),sessionStorage.setItem("_sy/repo/stats",JSON.stringify(s))}function b({stars:t,forks:e}){t&&(document.querySelector(".js-repo-stars").textContent=t),e&&(document.querySelector(".js-repo-forks").textContent=e)}function B(){let t=sessionStorage.getItem("_sy/repo/stats");if(t)b(JSON.parse(t));else{let e=p.getAttribute("data-user"),o=p.getAttribute("data-repo"),c=p.getAttribute("data-type");c==="github"?M(e,o):c==="gitlab"&&T(e,o)}}p&&B();function R(t,e){let o=document.createElement("script");o.id="_carbonads_js",o.src=`//cdn.carbonads.com/carbon.js?serve=${t}&placement=${e}`;let c=document.querySelector(".yue > section"),n=document.querySelector(".yue > section > section");if(n)c.insertBefore(o,n);else{let s=document.querySelector(".yue > section > p");s?c.insertBefore(o,s.nextSibling):c.appendChild(o)}}var g=document.querySelector(".js-carbon");if(g){let t=g.getAttribute("data-carbon-code"),e=g.getAttribute("data-carbon-placement");t&&e&&R(t,e)}/windows/i.test(navigator.userAgent)&&document.body.classList.add("win");})();
